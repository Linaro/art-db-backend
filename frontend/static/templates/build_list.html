<i ng-show="!page" class="fa fa-cog fa-spin"></i>

<div ng-show="page" id="build-list">
  <form>
    <div class="form-group">
      <input type="text" ng-change="makeSearch()"
             ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 500, 'blur': 0 } }"
             ng-model="search" class="form-control" placeholder="search">
    </div>
  </form>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>#</th>
        <th>branch</th>
        <th>build name</th>
        <th>Test jobs</th>
        <th>created at</th>
        <th>Original #</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="build in page.results">

        <td><a ng-href="#/build/{{ build.id }}">#{{ build.id }}</a></td>

        <td><a ng-href="#/build/{{ build.id }}">{{ build.branch_name }}</a></td>

        <td>
          <a ng-href="#/build/{{ build.id }}">{{ build.name }}</a> <br/>
          <a style="color:#999" href="{{ build.url }}">{{ build.url }}</a>
        </td>

        <td>
          {{build.test_jobs|count_by_status}}
        </td>

        <td>{{ build.created_at }}</td>

        <td>
          <a href="{{build.build_url}}">
            #{{build.build_id}}
            <i class='fa fa-external-link'></i>
          </a>
        </td>

      </tr>
    </tbody>
  </table>

  <pagination page="page"></pagination>

</div>
