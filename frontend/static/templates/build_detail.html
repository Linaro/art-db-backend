<div class="progress" ng-show="!build">
  <div class="progress-bar progress-bar-striped active" role="progressbar" style="width: 100%">
    <span class="sr-only">45% Complete</span>
  </div>
</div>

<div id="build-detail" ng-show="build">

  <h1 class="md-display-1"> <small>{{ build.created_at }}</small><br/>#{{ build.build_id }} {{ build.name }}</h1>

  <hr/>
  <a ng-href="{{ build.build_url }}" target="_blank">{{ build.build_url }}</a>
  <hr/>

  <dl class="dl-horizontal">
    <dt>Branch</dt>
    <dd>{{ build.branch_name || "not set"}}</dd>

    <dt>Gerrit Change Id</dt>
    <dd>{{ build.gerrit_change_id || "not set" }}</dd>

    <dt>Gerrit Change Number</dt>
    <dd>{{ build.gerrit_change_number || "not set" }}</dd>

    <dt>Gerrit Patchset Number</dt>
    <dd>{{ build.gerrit_patchset_number || "not set" }}</dd>
  </dl>

  <div ng-show="build.test_jobs.length">
    <hr>
    <h3>TestJob</h3>

    <table class="table table-striped" ng-show="build.test_jobs.length">
      <thead>
	<tr>
	  <th style="width: 10%;">#</th>
	  <th style="width: 90%;">status</th>
	</tr>
      </thead>
      <tbody>
	<tr ng-repeat="test in build.test_jobs">

	  <td>
	    <a href="{{ test.url }}" target="_blank">{{ test.id }}</a></td>
	  <td>
	    <ng-include src="'/static/templates/_test_job_status.html'" />
	  </td>
	</tr>
      </tbody>
    </table>
  </div>


  <div ng-if="benchmarks.length">
    <hr>
    
    <h3>Benchmarks</h3>

    <table class="table table-striped">
      <thead>
	<tr>
	  <th style="width: 60%">name</th>
	  <th class="text-right">measurement</th>
	</tr>
      </thead>
      <tbody>
	<tr ng-repeat="item in benchmarks">
	  <td>{{ item.name }}</td>
	  <td class="text-right">
	    {{ item.measurement.toFixed(2)}}
	  </td>
	</tr>
      </tbody>
    </table>
  </div>
  
</div>
